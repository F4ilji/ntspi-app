import{i as m,o as d,c as u,j as w,t as h,b as r,p,l as _,r as k,h as g,q as C,a as F,F as S,d as U,u as B,v as T}from"./app-lT3z3TR3.js";import{B as v,_ as y}from"./SearchModal-YI3bdWA9.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={name:"SearchBadge",components:{Link:m},data(){return{}},methods:{clearFilter(){let t=new URL(window.location.href);t.searchParams.delete(this.filter.param);let e=t.toString();this.$inertia.visit(e,{method:"get"})}},props:{filter:{type:Object}}},$={key:0,class:"inline-flex items-center gap-x-1.5 py-1.5 ps-3 pe-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800"};function j(t,e,a,o,n,s){return this.filter.value!==null?(d(),u("span",$,[w(" Поиск: "+h(a.filter.value)+" ",1),r("button",{onClick:e[0]||(e[0]=p((...i)=>s.clearFilter&&s.clearFilter(...i),["prevent"])),type:"button",class:"shrink-0 size-4 inline-flex items-center justify-center rounded-full hover:bg-blue-200 focus:outline-none focus:bg-blue-200 focus:text-blue-500"},e[1]||(e[1]=[r("span",{class:"sr-only"},"Remove badge",-1),r("svg",{class:"shrink-0 size-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M18 6 6 18"}),r("path",{d:"m6 6 12 12"})],-1)]))])):_("",!0)}const b=f(L,[["render",j]]),P={name:"CategoryBadge",components:{Link:m},data(){return{}},methods:{clearFilter(){let t=new URL(window.location.href);const e=[];for(const[o]of t.searchParams)o.startsWith(this.filter.param)&&e.push(o);e.forEach(o=>t.searchParams.delete(o));let a=t.toString();this.$inertia.visit(a,{method:"get"})}},props:{filter:{type:Object}}},I={key:0,class:"inline-flex items-center gap-x-1.5 py-1.5 ps-3 pe-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800"};function O(t,e,a,o,n,s){return this.filter.value!==null?(d(),u("span",I,[w(h(a.filter.value.length>1?a.filter.value.length+" категории":a.filter.content[a.filter.value[0]].data.title)+" ",1),r("button",{onClick:e[0]||(e[0]=p((...i)=>s.clearFilter&&s.clearFilter(...i),["prevent"])),type:"button",class:"shrink-0 size-4 inline-flex items-center justify-center rounded-full hover:bg-blue-200 focus:outline-none focus:bg-blue-200 focus:text-blue-500"},e[1]||(e[1]=[r("span",{class:"sr-only"},"Remove badge",-1),r("svg",{class:"shrink-0 size-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[r("path",{d:"M18 6 6 18"}),r("path",{d:"m6 6 12 12"})],-1)]))])):_("",!0)}const x=f(P,[["render",O]]),R={name:"CategoryFilter",components:{BaseIcon:v,Link:m,SearchBadge:b,CategoryBadge:x},data(){return{category_slug:this.category_filter.value||[],tag_slug:[],searchTerm:"",filteredItems:this.categories.data}},methods:{filter:y.debounce(function(){let t=new URL(window.location.href);t.searchParams.delete("page"),t.searchParams.delete("category[]");let e=t.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,data:{category:this.category_slug}})},500),clearFilter(){let t=new URL(window.location.href);t.searchParams.delete("category[]"),this.category_slug=[],this.searchTerm="";let e=t.toString();this.$inertia.visit(e,{method:"get",preserveState:!0})}},computed:{filteredItems(){if(!this.searchTerm)return this.categories.data;const t=this.searchTerm.toLowerCase();return this.categories.data.filter(e=>e.title.toLowerCase().includes(t))}},props:{categories:{type:Object},category_filter:{type:Object}}},V={class:"min-w-[12rem] py-1 space-y-3"},M={class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-[30vh] overflow-y-auto"},z={class:"flex flex-col ml-3"},N=["value","id"],D=["for"];function E(t,e,a,o,n,s){const i=k("BaseIcon");return d(),u("div",V,[g(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>n.searchTerm=l),class:"py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Поиск по категориям"},null,512),[[C,n.searchTerm]]),r("button",{onClick:e[1]||(e[1]=p((...l)=>s.clearFilter&&s.clearFilter(...l),["prevent"])),class:"text-gray-500 text-sm flex gap-x-1 items-center hover:text-gray-700"},[F(i,{class:"w-4 h-4",name:"delete"}),e[4]||(e[4]=r("span",null,"Очистить",-1))]),r("div",M,[r("div",null,[r("div",z,[(d(!0),u(S,null,U(s.filteredItems,l=>(d(),u("div",{key:l.id},[g(r("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>n.category_slug=c),value:l.slug,onChange:e[3]||(e[3]=(...c)=>s.filter&&s.filter(...c)),type:"checkbox",class:"shrink-0 mt-0.5 border-gray-200 rounded text-blue-600 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none",id:"inp"+l.id},null,40,N),[[B,n.category_slug]]),r("label",{for:"inp"+l.id,class:"text-sm text-gray-500 ms-3 dark:text-neutral-400"},h(l.title),9,D)]))),128))])])])])}const re=f(R,[["render",E]]),q={name:"TagFilter",components:{BaseIcon:v,Link:m,SearchBadge:b,CategoryBadge:x},data(){return{tag_slug:this.tag_filter.value||[],searchTerm:"",filteredItems:this.tags}},methods:{filter:y.debounce(function(){let t=new URL(window.location.href);t.searchParams.delete("page"),t.searchParams.delete("tag[]");let e=t.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,data:{tag:this.tag_slug}})},500),clearFilter(){let t=new URL(window.location.href);t.searchParams.delete("tag[]"),this.tag_slug=[],this.searchTerm="";let e=t.toString();this.$inertia.visit(e,{method:"get",preserveState:!0})}},computed:{filteredItems(){if(!this.searchTerm)return this.tags;const t=this.searchTerm.toLowerCase();return this.tags.filter(e=>e.name.ru.toLowerCase().includes(t))}},props:{tags:{type:Object},tag_filter:{type:Object}}},W={class:"min-w-[12rem] py-1 space-y-3"},A={class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-[30vh] overflow-y-auto"},G={class:"flex flex-col ml-3"},H=["value","id"],J=["for"];function K(t,e,a,o,n,s){const i=k("BaseIcon");return d(),u("div",W,[g(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=l=>n.searchTerm=l),class:"py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Поиск по тэгам"},null,512),[[C,n.searchTerm]]),r("button",{onClick:e[1]||(e[1]=p((...l)=>s.clearFilter&&s.clearFilter(...l),["prevent"])),class:"text-gray-500 text-sm flex gap-x-1 items-center hover:text-gray-700"},[F(i,{class:"w-4 h-4",name:"delete"}),e[4]||(e[4]=r("span",null,"Очистить",-1))]),r("div",A,[r("div",null,[r("div",G,[(d(!0),u(S,null,U(s.filteredItems,l=>(d(),u("div",{key:l.id},[g(r("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>n.tag_slug=c),value:l.slug.ru,onChange:e[3]||(e[3]=(...c)=>s.filter&&s.filter(...c)),type:"checkbox",class:"shrink-0 mt-0.5 border-gray-200 rounded text-blue-600 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none",id:"inp-tag"+l.id},null,40,H),[[B,n.tag_slug]]),r("label",{for:"inp-tag"+l.id,class:"text-sm text-gray-500 ms-3 dark:text-neutral-400"},"#"+h(l.name.ru),9,J)]))),128))])])])])}const se=f(q,[["render",K]]),Q={name:"SortingByFilter",components:{BaseIcon:v,Link:m,SearchBadge:b,CategoryBadge:x},data(){return{sortOrder:this.sortingBy_filter.value||"desc"}},methods:{filter:y.debounce(function(){let t=new URL(window.location.href);t.searchParams.delete("page"),t.searchParams.delete("sort");let e=t.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,data:{sort:this.sortOrder}})},500),clearFilter(){let t=new URL(window.location.href);t.searchParams.delete("sort"),this.tag_slug=[],this.searchTerm="";let e=t.toString();this.$inertia.visit(e,{method:"get",preserveState:!0})}},props:{sortingBy_filter:{type:Object}}},X={class:"min-w-[12rem] py-1 space-y-3"};function Y(t,e,a,o,n,s){return d(),u("div",X,[e[3]||(e[3]=r("h3",{class:"font-medium text-gray-900 text-sm mb-2"},"Сортировать по",-1)),r("div",null,[g(r("select",{onChange:e[0]||(e[0]=(...i)=>s.filter&&s.filter(...i)),"onUpdate:modelValue":e[1]||(e[1]=i=>n.sortOrder=i),class:"py-2 px-3 pe-9 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"},e[2]||(e[2]=[r("option",{value:"desc"},"Дате (Сначала новые)",-1),r("option",{value:"asc"},"Дате (Сначала старые)",-1)]),544),[[T,n.sortOrder]])])])}const le=f(Q,[["render",Y]]);export{x as C,b as S,se as T,le as a,re as b};
