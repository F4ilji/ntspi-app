import{m as g,o as s,c as i,b as t,t as n,h as m,v as h,F as d,d as c,l as u}from"./app-lT3z3TR3.js";import{_ as f}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p={name:"EducationalChoiceBlock",data(){return{additionalEducationalPrograms:null,loading:!0,activeProgramPage:null,isActiveProgramPage:!1}},methods:{getPrograms(){return g.get(route("client.widget.educational.program.index")).then(o=>{this.additionalEducationalPrograms=o.data,this.loading=!1}).catch(o=>{console.error("Ошибка:",o),this.loading=!1})},isAdditionalEducationalRoute(){const o=this.getSlugFromUrl(this.$page.props.ziggy.location);return this.$page.props.ziggy.location===route("client.program.show",o)},getSlugFromUrl(o){const e=o.split("/");return e[e.length-1]},findItemBySlug(){const o=this.getSlugFromUrl(this.$page.props.ziggy.location);return this.additionalEducationalPrograms.data.find(e=>e.slug===o)||null}},mounted(){this.getPrograms().then(()=>{this.isAdditionalEducationalRoute()&&(this.isActiveProgramPage=!0,this.activeProgramPage=this.findItemBySlug().name)})},props:{block:{type:Object},error:{type:Object}}},b={key:0,class:"mt-5 space-y-3 flex flex-col animate-pulse"},x={key:1,class:"mb-4 sm:mb-8"},y=["for"],_={class:"relative"},v=["name","disabled"],k=["value"],P={key:0,class:"absolute inset-y-0 end-0 flex items-center pointer-events-none pe-3"},w={class:"flex items-center mt-2 justify-between flex-wrap"},E={key:0,class:"text-sm text-gray-500",id:"hs-input-helper-text"},B={class:"text-sm text-red-600 mt-2",id:"hs-validation-name-error-helper"};function S(o,e,l,A,r,F){return r.loading?(s(),i("ul",b,e[1]||(e[1]=[t("li",{class:"w-full h-4 bg-gray-200 rounded-full"},null,-1),t("li",{class:"w-full h-8 bg-gray-200 rounded-full"},null,-1)]))):(s(),i("div",x,[t("label",{for:l.block.data.name_field+"-id",class:"block mb-2 text-sm font-medium"},n(l.block.data.title_field),9,y),t("div",_,[m(t("select",{name:l.block.data.name_field,disabled:r.isActiveProgramPage,"onUpdate:modelValue":e[0]||(e[0]=a=>r.activeProgramPage=a),class:"py-3 px-4 pe-9 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none"},[e[2]||(e[2]=t("option",{selected:""},"Open this select menu",-1)),(s(!0),i(d,null,c(r.additionalEducationalPrograms.data,a=>(s(),i("option",{value:a.name},n(a.name),9,k))),256))],8,v),[[h,r.activeProgramPage]]),l.error?(s(),i("div",P,e[3]||(e[3]=[t("svg",{class:"shrink-0 size-4 text-red-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),t("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})],-1)]))):u("",!0)]),t("div",w,[l.error?u("",!0):(s(),i("p",E,n(l.block.data.description),1))]),(s(!0),i(d,null,c(l.error,a=>(s(),i("p",B,n(a),1))),256))]))}const C=f(p,[["render",S]]);export{C as default};
