import{_ as v}from"./SearchModal.vue_vue_type_style_index_0_scoped_a4fc4416_lang-CbsljUTZ.js";import{B as y}from"./ClientFooterDown-D8UuGhzW.js";import{i as _,o as l,c as d,g as b,t as g,b as t,j as x,f as w,r as p,k as f,s as k,a as m,F as C,d as S,q as F,v as U,h as j}from"./app-DmJ8GS-7.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={name:"SearchBadge",components:{Link:_},data(){return{}},methods:{clearFilter(){let r=new URL(window.location.href);r.searchParams.delete(this.filter.param);let e=r.toString();this.$inertia.visit(e,{method:"get"})}},props:{filter:{type:Object}}},L={key:0,class:"inline-flex items-center gap-x-1.5 py-1.5 ps-3 pe-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},I=t("span",{class:"sr-only"},"Remove badge",-1),P=t("svg",{class:"shrink-0 size-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1),O=[I,P];function z(r,e,s,c,n,o){return this.filter.value!==null?(l(),d("span",L,[b(" Поиск: "+g(s.filter.value)+" ",1),t("button",{onClick:e[0]||(e[0]=x((...i)=>o.clearFilter&&o.clearFilter(...i),["prevent"])),type:"button",class:"shrink-0 size-4 inline-flex items-center justify-center rounded-full hover:bg-blue-200 focus:outline-none focus:bg-blue-200 focus:text-blue-500"},O)])):w("",!0)}const B=h(T,[["render",z]]),M={name:"CategoryBadge",components:{Link:_},data(){return{}},methods:{clearFilter(){let r=new URL(window.location.href);const e=[];for(const[c]of r.searchParams)c.startsWith(this.filter.param)&&e.push(c);e.forEach(c=>r.searchParams.delete(c));let s=r.toString();this.$inertia.visit(s,{method:"get"})}},props:{filter:{type:Object}}},R={key:0,class:"inline-flex items-center gap-x-1.5 py-1.5 ps-3 pe-2 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},V=t("span",{class:"sr-only"},"Remove badge",-1),N=t("svg",{class:"shrink-0 size-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M18 6 6 18"}),t("path",{d:"m6 6 12 12"})],-1),D=[V,N];function E(r,e,s,c,n,o){return this.filter.value!==null?(l(),d("span",R,[b(g(s.filter.value.length>1?s.filter.value.length+" категории":s.filter.content[s.filter.value[0]].data.title)+" ",1),t("button",{onClick:e[0]||(e[0]=x((...i)=>o.clearFilter&&o.clearFilter(...i),["prevent"])),type:"button",class:"shrink-0 size-4 inline-flex items-center justify-center rounded-full hover:bg-blue-200 focus:outline-none focus:bg-blue-200 focus:text-blue-500"},D)])):w("",!0)}const $=h(M,[["render",E]]),H={name:"CategoryFilter",components:{BaseIcon:y,Link:_,SearchBadge:B,CategoryBadge:$},data(){return{category_slug:this.category_filter.value||[],tag_slug:[],searchTerm:"",filteredItems:this.categories.data}},methods:{filter:v.debounce(function(){let r=new URL(window.location.href);r.searchParams.delete("page"),r.searchParams.delete("category[]");let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,data:{category:this.category_slug}})},500),clearFilter(){let r=new URL(window.location.href);r.searchParams.delete("category[]"),this.category_slug=[],this.searchTerm="";let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0})}},computed:{filteredItems(){if(!this.searchTerm)return this.categories.data;const r=this.searchTerm.toLowerCase();return this.categories.data.filter(e=>e.title.toLowerCase().includes(r))}},props:{categories:{type:Object},category_filter:{type:Object}}},q={class:"min-w-[12rem] py-1 space-y-3"},A=t("span",null,"Очистить",-1),W={class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-[30vh] overflow-y-auto"},G={class:"flex flex-col ml-3"},J=["value","id"],K=["for"];function Q(r,e,s,c,n,o){const i=p("BaseIcon");return l(),d("div",q,[f(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>n.searchTerm=a),class:"py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Поиск по категориям"},null,512),[[k,n.searchTerm]]),t("button",{onClick:e[1]||(e[1]=x((...a)=>o.clearFilter&&o.clearFilter(...a),["prevent"])),class:"text-gray-500 text-sm flex gap-x-1 items-center hover:text-gray-700"},[m(i,{class:"w-4 h-4",name:"delete"}),A]),t("div",W,[t("div",null,[t("div",G,[(l(!0),d(C,null,S(o.filteredItems,a=>(l(),d("div",{key:a.id},[f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>n.category_slug=u),value:a.slug,onChange:e[3]||(e[3]=(...u)=>o.filter&&o.filter(...u)),type:"checkbox",class:"shrink-0 mt-0.5 border-gray-200 rounded text-blue-600 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none",id:"inp"+a.id},null,40,J),[[F,n.category_slug]]),t("label",{for:"inp"+a.id,class:"text-sm text-gray-500 ms-3 dark:text-neutral-400"},g(a.title),9,K)]))),128))])])])])}const X=h(H,[["render",Q]]),Y={name:"TagFilter",components:{BaseIcon:y,Link:_,SearchBadge:B,CategoryBadge:$},data(){return{tag_slug:this.tag_filter.value||[],searchTerm:"",filteredItems:this.tags}},methods:{filter:v.debounce(function(){let r=new URL(window.location.href);r.searchParams.delete("page"),r.searchParams.delete("tag[]");let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,data:{tag:this.tag_slug}})},500),clearFilter(){let r=new URL(window.location.href);r.searchParams.delete("tag[]"),this.tag_slug=[],this.searchTerm="";let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0})}},computed:{filteredItems(){if(!this.searchTerm)return this.tags;const r=this.searchTerm.toLowerCase();return this.tags.filter(e=>e.name.ru.toLowerCase().includes(r))}},props:{tags:{type:Object},tag_filter:{type:Object}}},Z={class:"min-w-[12rem] py-1 space-y-3"},ee=t("span",null,"Очистить",-1),te={class:"divide-y divide-gray-200 dark:divide-gray-700 max-h-[30vh] overflow-y-auto"},re={class:"flex flex-col ml-3"},se=["value","id"],oe=["for"];function ae(r,e,s,c,n,o){const i=p("BaseIcon");return l(),d("div",Z,[f(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>n.searchTerm=a),class:"py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Поиск по тэгам"},null,512),[[k,n.searchTerm]]),t("button",{onClick:e[1]||(e[1]=x((...a)=>o.clearFilter&&o.clearFilter(...a),["prevent"])),class:"text-gray-500 text-sm flex gap-x-1 items-center hover:text-gray-700"},[m(i,{class:"w-4 h-4",name:"delete"}),ee]),t("div",te,[t("div",null,[t("div",re,[(l(!0),d(C,null,S(o.filteredItems,a=>(l(),d("div",{key:a.id},[f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>n.tag_slug=u),value:a.slug.ru,onChange:e[3]||(e[3]=(...u)=>o.filter&&o.filter(...u)),type:"checkbox",class:"shrink-0 mt-0.5 border-gray-200 rounded text-blue-600 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none",id:"inp-tag"+a.id},null,40,se),[[F,n.tag_slug]]),t("label",{for:"inp-tag"+a.id,class:"text-sm text-gray-500 ms-3 dark:text-neutral-400"},"#"+g(a.name.ru),9,oe)]))),128))])])])])}const ne=h(Y,[["render",ae]]),ie={name:"SortingByFilter",components:{BaseIcon:y,Link:_,SearchBadge:B,CategoryBadge:$},data(){return{sortOrder:this.sortingBy_filter.value||"desc"}},methods:{filter:v.debounce(function(){let r=new URL(window.location.href);r.searchParams.delete("page"),r.searchParams.delete("sort");let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,data:{sort:this.sortOrder}})},500),clearFilter(){let r=new URL(window.location.href);r.searchParams.delete("sort"),this.tag_slug=[],this.searchTerm="";let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0})}},props:{sortingBy_filter:{type:Object}}},le={class:"min-w-[12rem] py-1 space-y-3"},de=t("h3",{class:"font-medium text-gray-900 text-sm mb-2"},"Сортировать по",-1),ce=t("option",{value:"desc"},"Дате (Сначала новые)",-1),ue=t("option",{value:"asc"},"Дате (Сначала старые)",-1),he=[ce,ue];function ge(r,e,s,c,n,o){return l(),d("div",le,[de,t("div",null,[f(t("select",{onChange:e[0]||(e[0]=(...i)=>o.filter&&o.filter(...i)),"onUpdate:modelValue":e[1]||(e[1]=i=>n.sortOrder=i),class:"py-2 px-3 pe-9 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600"},he,544),[[U,n.sortOrder]])])])}const fe=h(ie,[["render",ge]]),pe={name:"ClientPostFilter",components:{SortingByFilter:fe,TagFilter:ne,CategoryFilter:X,BaseIcon:y},data(){return{}},props:{items:{type:Object},category_filter:{type:Object},sortingBy_filter:{type:Object},tag_filter:{type:Object},tags:{type:Object}}},me=t("div",{class:"sm:col-span-2 md:grow"},[t("button",{type:"button",class:"py-3 px-4 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none","aria-haspopup":"dialog","aria-expanded":"false","aria-controls":"hs-offcanvas-example","data-hs-overlay":"#hs-offcanvas-example"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"size-6"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"})])])],-1),_e={id:"hs-offcanvas-example",class:"hs-overlay hs-overlay-open:translate-x-0 hidden -translate-x-full fixed top-0 start-0 transition-all duration-300 transform h-full max-w-xs w-full z-[80] bg-white border-e overflow-auto",role:"dialog",tabindex:"-1","aria-labelledby":"hs-offcanvas-example-label"},be=j('<div class="flex justify-between items-center py-3 px-4 border-b"><h3 id="hs-offcanvas-example-label" class="font-bold text-gray-800"> Фильтры </h3><button type="button" class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none" aria-label="Close" data-hs-overlay="#hs-offcanvas-example"><span class="sr-only">Close</span><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg></button></div>',1),we={class:"p-4"},ve={class:"hs-accordion-group"},ye=["id"],xe={class:"hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-none focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none","aria-expanded":"false","aria-controls":"hs-basic-with-arrow-collapse-two"},ke=t("svg",{class:"hs-accordion-active:hidden block size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m6 9 6 6 6-6"})],-1),Ce=t("svg",{class:"hs-accordion-active:block hidden size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m18 15-6-6-6 6"})],-1),Be={key:0,class:"inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-md text-xs font-medium border border-gray-200 bg-white text-gray-800 shadow-sm dark:bg-neutral-900 dark:border-neutral-700 dark:text-white"},$e=["aria-labelledby"],Se=["id"],Fe={class:"hs-accordion-toggle hs-accordion-active:text-blue-600 py-3 inline-flex items-center gap-x-3 w-full font-semibold text-start text-gray-800 hover:text-gray-500 focus:outline-none focus:text-gray-500 rounded-lg disabled:opacity-50 disabled:pointer-events-none","aria-expanded":"false","aria-controls":"hs-basic-with-arrow-collapse-two"},Ue=t("svg",{class:"hs-accordion-active:hidden block size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m6 9 6 6 6-6"})],-1),je=t("svg",{class:"hs-accordion-active:block hidden size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"m18 15-6-6-6 6"})],-1),Te={key:0,class:"inline-flex items-center gap-x-1.5 py-1.5 px-3 rounded-md text-xs font-medium border border-gray-200 bg-white text-gray-800 shadow-sm dark:bg-neutral-900 dark:border-neutral-700 dark:text-white"},Le=["aria-labelledby"];function Ie(r,e,s,c,n,o){const i=p("SortingByFilter"),a=p("CategoryFilter"),u=p("TagFilter");return l(),d(C,null,[me,t("div",_e,[be,t("div",we,[m(i,{sortingBy_filter:s.sortingBy_filter},null,8,["sortingBy_filter"]),t("div",ve,[t("div",{class:"hs-accordion",id:"id"+s.category_filter.type},[t("button",xe,[ke,Ce,b(" Категории "),s.category_filter.value?(l(),d("span",Be,g(s.category_filter.value.length),1)):w("",!0)]),t("div",{id:"hs-basic-with-arrow-collapse-two",class:"hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300",role:"region","aria-labelledby":"id"+s.tag_filter.type},[m(a,{categories:s.items,category_filter:s.category_filter},null,8,["categories","category_filter"])],8,$e)],8,ye),t("div",{class:"hs-accordion",id:"id"+s.tag_filter.type},[t("button",Fe,[Ue,je,b(" Тэги "),s.tag_filter.value?(l(),d("span",Te,g(s.tag_filter.value.length),1)):w("",!0)]),t("div",{id:"hs-basic-with-arrow-collapse-two",class:"hs-accordion-content hidden w-full overflow-hidden transition-[height] duration-300",role:"region","aria-labelledby":"id"+s.tag_filter.type},[m(u,{tags:s.tags,tag_filter:s.tag_filter},null,8,["tags","tag_filter"])],8,Le)],8,Se)])])])],64)}const qe=h(pe,[["render",Ie]]),Pe={name:"AdminIndexSearch",data(){return{searchInput:this.search_filter.value}},methods:{search:v.debounce(function(){if(this.searchInput==""){let r=new URL(window.location.href);r.searchParams.delete("search");let e=r.toString();this.$inertia.visit(e,{method:"get",preserveState:!0,replace:!0})}else{let r=new URL(window.location.href);r.searchParams.delete("page");let e=r.toString();this.$inertia.visit(e,{method:"get",data:{search:this.searchInput},preserveState:!0,replace:!0})}},500)},props:["search_filter"]},Oe={class:"sm:col-span-1 w-full"},ze=t("label",{for:"hs-as-table-product-review-search",class:"sr-only"},"Поиск",-1),Me={class:"relative"},Re=t("div",{class:"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-4"},[t("svg",{class:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[t("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})])],-1);function Ve(r,e,s,c,n,o){return l(),d("div",Oe,[ze,t("div",Me,[f(t("input",{autocomplete:"off",onInput:e[0]||(e[0]=(...i)=>o.search&&o.search(...i)),"onUpdate:modelValue":e[1]||(e[1]=i=>n.searchInput=i),type:"text",id:"hs-as-table-product-review-search",name:"hs-as-table-product-review-search",class:"py-3 px-3 pl-11 block flex-1 w-full border-gray-200 shadow-sm rounded-md text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400",placeholder:"Поиск новостей"},null,544),[[k,n.searchInput]]),Re])])}const Ae=h(Pe,[["render",Ve]]);export{qe as C,B as S,ne as T,Ae as a,$ as b,fe as c,X as d};
